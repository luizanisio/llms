# Configuração para comparação de extrações - Experimento Summa Qualifica
# Executar com: python comparar_extracoes.py --config config_summa.yaml

# Configuração Global de Saída
saida:
  pasta: "./analises_comparacao_summa_q235"
  arquivo_base: "comparacao_summa"
  regerar_planilha_base: true # Se false, não regera a planilha se ela já existir

# Configurações de Execução
execucao:
  max_workers: 10
  teste_rapido: false # Defina como true para pular métricas pesadas (BERTScore)
  gerar_graficos: true 
  llm_as_a_judge: false
  analise_estatistica: true
  ignorar_erro_extracao: true

# Modelo Base (Gabarito/Referência)
modelo_base:
  pasta: "./saidas/ext_qwen235b_11"
  rotulo: "qwen235b_11"
  familia: "Qwen-235B"

# Modelos Comparados
modelos_comparacao:
  - pasta: "./saidas/ext_qwen-1.5B_11_u"
    rotulo: "qwen-1.5B_11_u"
    familia: "Qwen-1.5B"

  - pasta: "./saidas/qwen-1.5B(ft-train-a)"
    rotulo: "qwen-1.5B(ft-train-a)"
    familia: "Qwen-1.5B"

  - pasta: "./saidas/qwen-1.5B(ft-train-b)"
    rotulo: "qwen-1.5B(ft-train-b)"
    familia: "Qwen-1.5B"


# Configuração das Métricas e Campos
configuracao_comparacao:
  nivel_campos: 1
  padronizar_simbolos: true
  rouge_stemmer: true
  
  # Configuração do campo ID
  nome_campo_id: "id"  # Nome interno do campo de ID (usado em DataFrames, gráficos, etc)
  rotulo_campo_id: "ID"  # Rótulo de exibição do campo ID (usado em relatórios)
  
  # Máscaras de arquivos (Regex ou Sufixo)
  # Se começar com '^', é tratado como Regex.
  # Se não, é tratado como sufixo e o script adiciona '^(.+)' antes e escape no sufixo.
  mascaras:
    extracao: "^(.+)\\.txt$"
    tokens: ".json" 
    avaliacao: ".avaliacao.json"
    observabilidade: ".obs.json"

  # Mapeamento de campos para métricas
  campos:
    bertscore:
      - "(global)"
      - "Materia"
      - "Resumo"
      - "Dispositivo"
      - "Temas"
      - "Temas.Ponto"
      - "Temas.Argumentos"
      - "Temas.Explicacao"
      - "Temas.Jurisprudencia"

    rouge_1:

    rouge_2:
      - "Tipo"
      - "DataJulgamento"
      - "Partes"
      - "Partes.Tipo"
      - "Partes.Nome"

    rouge_l:
      - "(global)"
      - "Materia"
      - "Resumo"
      - "DataJulgamento"
      - "Partes"
      - "Temas.Normas"
      - "Temas.Decisao"

    levenshtein:
      - "Tipo"
      - "DataJulgamento"

    sbert_pequeno:
      - "(global)"
      - "Materia"
      - "Resumo"
      - "Dispositivo"
      - "Temas"
      - "Temas.Ponto"
      - "Temas.Argumentos"
      - "Temas.Explicacao"
      - "Temas.Jurisprudencia"

    sbert_medio:
      - "(global)"
      - "Materia"
      - "Resumo"
      - "Dispositivo"
      - "Temas"
      - "Temas.Ponto"
      - "Temas.Argumentos"
      - "Temas.Explicacao"
      - "Temas.Jurisprudencia"

    sbert_grande:
      - "(global)"
      - "Materia"
      - "Resumo"
      - "Dispositivo"
      - "Temas"
      - "Temas.Ponto"
      - "Temas.Argumentos"
      - "Temas.Explicacao"
      - "Temas.Jurisprudencia"
